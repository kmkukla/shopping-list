{"version":3,"sources":["app.js"],"names":["editElement","form","document","querySelector","groceryInput","getElementById","submitBtn","groceryList","clearBtn","alert","groceryListBackground","editFlag","editID","addItem","e","preventDefault","value","id","Date","getTime","toString","createListItem","classList","add","addToLocalStorage","setBackToDefault","displayAlert","innerHTML","highlightElem","parentElement","editLocalStorage","text","action","textContent","setTimeout","remove","clearItems","items","querySelectorAll","length","forEach","item","removeChild","localStorage","removeItem","deleteItem","element","currentTarget","parentNode","dataset","children","removeFromLocalStorage","editItem","previousElementSibling","grocery","getLocalStorage","push","setItem","JSON","stringify","filter","map","getItem","parse","setupItems","createElement","attr","createAttribute","setAttributeNode","deleteBtn","editBtn","addEventListener","appendChild","window"],"mappings":"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","file":"app.dcfc3d57.js","sourceRoot":"..\\src","sourcesContent":["const form = document.querySelector(\".header\");\nconst groceryInput = document.getElementById(\"grocery-input\");\nconst submitBtn = document.querySelector(\".header__button\");\nconst groceryList = document.querySelector(\".grocery__list\");\nconst clearBtn = document.querySelector(\".grocery__clear-btn\");\nconst alert = document.querySelector(\".header__alert\");\nconst groceryListBackground = document.querySelector(\n  \".grocery__list-background\"\n);\n\n//editing\nlet editElement;\nlet editFlag = false;\nlet editID = \"\";\n\n// event listeners\nform.addEventListener(\"submit\", addItem);\nclearBtn.addEventListener(\"click\", clearItems);\n// load items\nwindow.addEventListener(\"DOMContentLoaded\", setupItems);\n\n// functions\nfunction addItem(e) {\n  e.preventDefault();\n  const value = groceryInput.value;\n  const id = new Date().getTime().toString();\n  if (value && !editFlag) {\n    createListItem(id, value);\n    clearBtn.classList.add(\"grocery__clear-btn--show\");\n    // add to local storage\n    addToLocalStorage(id, value);\n    //remove bg\n    groceryListBackground.classList.add(\"grocery__list-background--hide\");\n    // set back to default\n    setBackToDefault();\n    displayAlert(\"Item added to the list\", \"success\");\n  } else if (value && editFlag) {\n    editElement.innerHTML = value;\n    displayAlert(\"Item changed\", \"success\");\n    highlightElem(editElement.parentElement);\n    // edit local storage\n    editLocalStorage(editID, value);\n    setBackToDefault();\n  } else {\n    displayAlert(\"Please enter a value\", \"danger\");\n  }\n}\n\n// display alert\nfunction displayAlert(text, action) {\n  alert.textContent = text;\n  alert.classList.add(`header__alert--${action}`);\n  // remove alert\n  setTimeout(function () {\n    alert.textContent = \"\";\n    alert.classList.remove(`header__alert--${action}`);\n  }, 1000);\n}\n\n// clear items\nfunction clearItems() {\n  const items = document.querySelectorAll(\".grocery__item\");\n  if (items.length) {\n    items.forEach((item) => {\n      groceryList.removeChild(item);\n    });\n    clearBtn.classList.remove(\"grocery__clear-btn--show\");\n    displayAlert(`Removed all items`, \"danger\");\n    //remove bg\n    groceryListBackground.classList.remove(\"grocery__list-background--hide\");\n    setBackToDefault();\n    localStorage.removeItem(\"list\");\n  }\n}\n\n// delete element\nfunction deleteItem(e) {\n  const element = e.currentTarget.parentNode.parentNode;\n  const id = element.dataset.id;\n  element.remove();\n  if (groceryList.children.length <= 1) {\n    clearBtn.classList.remove(\"grocery__clear-btn--show\");\n  }\n  displayAlert(`Item removed`, \"danger\");\n  setBackToDefault();\n  // remove from local storage\n  removeFromLocalStorage(id);\n}\n\n// edit element\n\nfunction editItem(e) {\n  const element = e.currentTarget.parentNode.parentNode;\n  editElement = e.currentTarget.parentElement.previousElementSibling;\n  groceryInput.value = editElement.innerHTML;\n  editFlag = true;\n  editID = element.dataset.id;\n  submitBtn.textContent = \"Edit item\";\n}\n\n// set back to default\nfunction setBackToDefault() {\n  groceryInput.value = \"\";\n  editFlag = false;\n  editID = \"\";\n  submitBtn.textContent = \"Add Item\";\n}\n\n// highlight the element when added or edited\nfunction highlightElem(element) {\n  element.classList.add(\"grocery__item--added\");\n  setTimeout(function () {\n    element.classList.remove(\"grocery__item--added\");\n  }, 1000);\n}\n\n// local storage\nfunction addToLocalStorage(id, value) {\n  const grocery = { id, value };\n  let items = getLocalStorage();\n  items.push(grocery);\n  localStorage.setItem(\"list\", JSON.stringify(items));\n}\n\nfunction removeFromLocalStorage(id) {\n  let items = getLocalStorage();\n  items = items.filter(function (item) {\n    if (item.id !== id) {\n      return item;\n    }\n  });\n  localStorage.setItem(\"list\", JSON.stringify(items));\n}\nfunction editLocalStorage(id, value) {\n  let items = getLocalStorage();\n  items = items.map((item) => {\n    if (item.id === id) {\n      item.value = value;\n    }\n    return item;\n  });\n  localStorage.setItem(\"list\", JSON.stringify(items));\n}\nfunction getLocalStorage() {\n  return localStorage.getItem(\"list\")\n    ? JSON.parse(localStorage.getItem(\"list\"))\n    : [];\n}\n\n// setup items\nfunction setupItems() {\n  let items = getLocalStorage();\n  if (items.length > 0) {\n    items.forEach((item) => {\n      createListItem(item.id, item.value);\n    });\n    groceryListBackground.classList.add(\"grocery__list-background--hide\");\n    clearBtn.classList.add(\"grocery__clear-btn--show\");\n  }\n}\n\nfunction createListItem(id, value) {\n  const element = document.createElement(\"li\");\n  element.classList.add(\"grocery__item\");\n  const attr = document.createAttribute(\"data-id\");\n  attr.value = id;\n  element.setAttributeNode(attr);\n  element.innerHTML = `<p class=\"grocery__item-text\">${value}</p>\n    <div class=\"grocery__item-btn-container\">\n      <button class=\"grocery__item-btn grocery__item-btn--edit\"><i class=\"fas fa-pen\" title=\"Edit Item\"></i>\n      </button>\n      <button class=\"grocery__item-btn grocery__item-btn--delete\">\n        <i class=\"fas fa-times-circle\" title=\"Delete Item\"></i>\n      </button>\n    </div>`;\n  const deleteBtn = element.querySelector(\".grocery__item-btn--delete\");\n  const editBtn = element.querySelector(\".grocery__item-btn--edit\");\n  deleteBtn.addEventListener(\"click\", deleteItem);\n  editBtn.addEventListener(\"click\", editItem);\n  groceryList.appendChild(element);\n  highlightElem(element);\n}\n"]}